function copyTextToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{var n=document.execCommand("copy"),a=n?"successful":"unsuccessful";console.log("Copying text command was "+a)}catch(o){console.log("Oops, unable to copy")}document.body.removeChild(t)}function receiveIframeMessage(e){if("file:"==window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host){var t,n={};try{n="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(a){}if(void 0!==n.event&&"patternLab.updatePath"==n.event)if(void 0!==patternData.patternPartial){var o=/(patterns|snapshots)\/(.*)$/;t=window.location.protocol+"//"+window.location.host+window.location.pathname.replace(o,"")+n.path+"?"+Date.now(),window.location.replace(t)}else t=window.location.protocol+"//"+window.location.host+window.location.pathname.replace("styleguide/html/styleguide.html","")+n.path+"?"+Date.now(),window.location.replace(t);else void 0!==n.event&&"patternLab.reload"==n.event&&window.location.reload()}}if(window.onload=function(){!function(e){e(".pl-c-pattern .pl-c-pattern__codeSection > a.title").click(function(t){t.preventDefault(),e(this).parent().toggleClass("is-collapsed")}),0==e(".pl-c-pattern").length&&e("html.pl body").wrapInner("<div class='pl-c-pattern pl-c-pattern-single'></div>"),e(".pl-c-pattern .pl-c-pattern-shareLink").click(function(t){t.preventDefault();var n=window.location.href,a=n;a.indexOf("/",7)!==-1&&(a=a.substring(0,a.indexOf("/",7))),a=a+"/?p="+e(this).closest(".pl-c-pattern").attr("id"),copyTextToClipboard(a),e(this).addClass("active").delay(2e3).queue(function(t){e(this).removeClass("active"),t()})}),e(".pl-c-pattern .pl-c-pattern__codeClipboard").click(function(t){t.preventDefault();var n=e(this).parent().find(".pl-js-pattern-exampleUnstyled").text();copyTextToClipboard(n),e(this).addClass("active").delay(2e3).queue(function(t){e(this).removeClass("active"),t()})})}(jQuery)},self!=top){var path=window.location.toString(),parts=path.split("?"),options={event:"patternLab.pageLoad",path:parts[0]};patternData=document.getElementById("pl-pattern-data-footer").innerHTML,patternData=JSON.parse(patternData),options.patternpartial=void 0!==patternData.patternPartial?patternData.patternPartial:"all",""!==patternData.lineage&&(options.lineage=patternData.lineage);var targetOrigin="file:"==window.location.protocol?"*":window.location.protocol+"//"+window.location.host;parent.postMessage(options,targetOrigin);for(var aTags=document.getElementsByTagName("a"),i=0;i<aTags.length;i++)aTags[i].onclick=function(e){var t=this.getAttribute("href"),n=this.getAttribute("target");if(void 0===n||"_parent"!=n&&"_blank"!=n){if(!t||"#"===t)return e.preventDefault(),!1;e.preventDefault(),window.location.replace(t)}else;}}window.addEventListener("message",receiveIframeMessage,!1);var urlHandler={skipBack:!1,targetOrigin:"file:"==window.location.protocol?"*":window.location.protocol+"//"+window.location.host,getFileName:function(e,t){var n="patterns",a="";if(void 0===e)return a;if(void 0===t&&(t=!0),"all"==e)return"styleguide/html/styleguide.html";if("snapshots"==e)return"snapshots/index.html";var o=e.indexOf("viewall-")!=-1?viewAllPaths:patternPaths,i=e.replace("viewall-",""),l=this.getPatternInfo(i,o),r=l[0],d=l[1];if(void 0!==o[r]&&void 0!==o[r][d])a=o[r][d];else if(void 0!==o[r])for(var p in o[r])if(p.indexOf(d)!=-1){a=o[r][p];break}if(""===a)return a;var s=/\//g;if(e.indexOf("viewall-")!==-1&&0===e.indexOf("viewall-")&&""!==a)a=n+"/"+a.replace(s,"-")+"/index.html";else if(""!==a&&(a=n+"/"+a.replace(s,"-")+"/"+a.replace(s,"-"),t)){var c=void 0!==config.outputFileSuffixes&&void 0!==config.outputFileSuffixes.rendered?config.outputFileSuffixes.rendered:"";a=a+c+".html"}return a},getPatternInfo:function(e,t){for(var n=e.split("-"),a=1,o=n.length,i=n[0];void 0===t[i]&&a<o;)i+="-"+n[a],a++;var l=e.slice(i.length+1,e.length);return[i,l]},getRequestVars:function(){var e=new function(e){if(e.length>1)for(var t,n=0,a=e.substr(1).split("&");n<a.length;n++)t=a[n].split("="),this[unescape(t[0])]=t.length>1?unescape(t[1]):""}(window.location.search);return e},pushPattern:function(e,t){var n={pattern:e},a=urlHandler.getFileName(e),o=window.location.pathname;o="file"===window.location.protocol?o.replace("/public/index.html","public/"):o.replace(/\/index\.html/,"/");var i=window.location.protocol+"//"+window.location.host+o+a;if(t!=i){var l=JSON.stringify({event:"patternLab.updatePath",path:a});document.querySelector(".pl-js-iframe").contentWindow.postMessage(l,urlHandler.targetOrigin)}else{var r="file:"==window.location.protocol?null:window.location.protocol+"//"+window.location.host+window.location.pathname.replace("index.html","")+"?p="+e;void 0!==history.pushState&&history.pushState(n,null,r),document.getElementById("title").innerHTML="Pattern Lab - "+e,void 0!==document.querySelector(".pl-js-open-new-window")&&document.querySelector(".pl-js-open-new-window").setAttribute("href",urlHandler.getFileName(e))}},popPattern:function(e){var t,n=e.state;if(null===n)return void(this.skipBack=!1);null!==n&&(t=n.pattern);var a="";a=this.getFileName(t),""===a&&(a="styleguide/html/styleguide.html");var o=JSON.stringify({event:"patternLab.updatePath",path:a});document.querySelector(".pl-js-iframe").contentWindow.postMessage(o,urlHandler.targetOrigin),document.getElementById("title").innerHTML="Pattern Lab - "+t,document.querySelector(".pl-js-open-new-window").setAttribute("href",urlHandler.getFileName(t))}};window.onpopstate=function(e){urlHandler.skipBack=!0,urlHandler.popPattern(e)};var panelsUtil={addClickEvents:function(e,t){for(var n=e.querySelectorAll(".pl-js-tab-link"),a=0;a<n.length;++a)n[a].onclick=function(e){e.preventDefault();var t=this.getAttribute("data-patternpartial"),n=this.getAttribute("data-panelid");panelsUtil.show(t,n)};return e},show:function(e,t){var n;for(n=document.querySelectorAll("#pl-"+e+"-tabs .pl-js-tab-link"),i=0;i<n.length;++i)n[i].classList.remove("pl-is-active-tab");for(n=document.querySelectorAll("#pl-"+e+"-panels .pl-js-tab-panel"),i=0;i<n.length;++i)n[i].classList.remove("pl-is-active-tab");document.getElementById("pl-"+e+"-"+t+"-tab").classList.add("pl-is-active-tab"),document.getElementById("pl-"+e+"-"+t+"-panel").classList.add("pl-is-active-tab")}},modalStyleguide={active:[],targetOrigin:"file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,onReady:function(){for(var e=document.querySelectorAll(".pl-js-pattern-extra-toggle"),t=0;t<e.length;++t)e[t].onclick=function(e){var t=this.getAttribute("data-patternpartial");modalStyleguide.toggle(t)}},toggle:function(e){if(void 0!==modalStyleguide.active[e]&&modalStyleguide.active[e])modalStyleguide.highlightsHide(),modalStyleguide.close(e);else{var t=document.getElementById("pl-pattern-data-"+e);modalStyleguide.collectAndSend(t,!0,!1)}},open:function(e,t){var n=document.createElement("div");n.innerHTML=t,t=document.createElement("div").appendChild(n).querySelector("div"),t=panelsUtil.addClickEvents(t,e),modalStyleguide.close(e),modalStyleguide.active[e]=!0,n=document.getElementById("pl-pattern-extra-"+e),n.childNodes.length>0&&n.removeChild(n.childNodes[0]),document.getElementById("pl-pattern-extra-"+e).appendChild(t),document.getElementById("pl-pattern-extra-toggle-"+e).classList.add("pl-is-active"),document.getElementById("pl-pattern-extra-"+e).classList.add("pl-is-active")},close:function(e){modalStyleguide.active[e]=!1,document.getElementById("pl-pattern-extra-toggle-"+e).classList.remove("pl-is-active"),document.getElementById("pl-pattern-extra-"+e).classList.remove("pl-is-active")},collectAndSend:function(e,t,n){var a=JSON.parse(e.innerHTML);void 0!==a.patternName&&(patternMarkupEl=document.querySelector("#"+a.patternPartial+" > .pl-js-pattern-example"),a.patternMarkup=null!==patternMarkupEl?patternMarkupEl.innerHTML:document.querySelector("body").innerHTML,modalStyleguide.patternQueryInfo(a,t,n))},highlightsHide:function(e){var t=void 0!==e?"#"+e+" > ":"";for(elsToHide=document.querySelectorAll(t+".pl-has-annotation"),i=0;i<elsToHide.length;i++)elsToHide[i].classList.remove("pl-has-annotation");for(elsToHide=document.querySelectorAll(t+".pl-c-annotation-tip"),i=0;i<elsToHide.length;i++)elsToHide[i].style.display="none"},patternQueryInfo:function(e,t,n){try{var a=JSON.stringify({event:"patternLab.patternQueryInfo",patternData:e,iframePassback:t,switchText:n});parent.postMessage(a,modalStyleguide.targetOrigin)}catch(o){}},receiveIframeMessage:function(e){var t;if("file:"===window.location.protocol||e.origin===window.location.protocol+"//"+window.location.host){var n={};try{n="string"!=typeof e.data?e.data:JSON.parse(e.data)}catch(a){}if(void 0!==n.event&&"patternLab.patternQuery"==n.event){var o,i;for(o=document.querySelectorAll(".pl-js-pattern-data"),i=o.length>1,t=0;t<o.length;t++)modalStyleguide.collectAndSend(o[t],i,n.switchText)}else if(void 0!==n.event&&"patternLab.patternModalInsert"==n.event)modalStyleguide.open(n.patternPartial,n.modalContent);else if(void 0!==n.event&&"patternLab.annotationsHighlightShow"==n.event){var l,r,d,p;for(t=0;t<n.annotations.length;t++)if(d=n.annotations[t],l=document.querySelectorAll(d.el),l.length>0)for(r=0;r<l.length;r++)l[r].classList.add("pl-has-annotation"),p=document.createElement("span"),p.innerHTML=d.displayNumber,p.classList.add("pl-c-annotation-tip"),"0px"==window.getComputedStyle(l[r],null).getPropertyValue("max-height")&&(p.style.display="none"),annotationTip=document.querySelector(d.el+" > span.pl-c-annotation-tip"),null===annotationTip?l[r].insertBefore(p,l[r].firstChild):annotationTip.style.display="inline",l[r].onclick=function(e){return function(t){t.preventDefault(),t.stopPropagation();var n=JSON.stringify({event:"patternLab.annotationNumberClicked",displayNumber:e.displayNumber});parent.postMessage(n,modalStyleguide.targetOrigin)}}(d)}else if(void 0!==n.event&&"patternLab.annotationsHighlightHide"==n.event)modalStyleguide.highlightsHide();else if(void 0!==n.event&&"patternLab.patternModalClose"==n.event){var s=[];for(var c in modalStyleguide.active)s.push(c);for(t=0;t<s.length;t++){var u=s[t];modalStyleguide.active[u]&&modalStyleguide.close(u)}}}}};modalStyleguide.onReady(),window.addEventListener("message",modalStyleguide.receiveIframeMessage,!1);